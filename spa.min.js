var $jscomp={scope:{},findInternal:function(b,a,c){b instanceof String&&(b=String(b));for(var d=b.length,e=0;e<d;e++){var f=b[e];if(a.call(c,f,e,b))return{i:e,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,a,c,d){if(a){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var e=b[d];e in c||(c[e]={});c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");var spa=spa||{};
(function(b){jQuery.holdReady(!0);spa=jQuery.extend({buildTaskCount:0,$cache:{},routes:[],current:{},defaults:{shell:"index"}},spa);spa.inits=[];spa.init=function(a){spa.inits.push(a)};spa.onInit=function(){spa.inits.forEach(function(a){a()})};spa.includeScript=function(a){JQSPA_BASE_PATH&&a.match(/^\/src\//i)&&(a=JQSPA_BASE_PATH+a);jQuery.ajax({url:a,dataType:"script",async:!1})};spa.includeTemplate=function(a){var c="";jQuery.ajax({url:a,success:function(a){c=a},async:!1});return c};spa.StyleSheets=
function(){var a=Object.create(Array.prototype);a.create=function(){var a=[].slice.apply(arguments),d=jQuery("body");d.length&&(a.unshift(d),a=this.load.apply(this,a));return b.extend(Object.create(this),a)};a.push=function(){var a=[].slice.apply(arguments),b=jQuery("body");b.length&&(a.unshift(b),a=this.load.apply(this,a));return Array.prototype.push.apply(this,a)};a.unload=function(a){return 0===jQuery("body ."+a).length?(a=jQuery("body style."+a),a.remove(),a=this.indexOf(a[0]),0!==~a&&this.splice(a,
1),!0):!1};a.load=function(a){var b,c=[].slice.apply(arguments);c.shift();for(var f=c.length,g=0;g<f;g++)b=c[g],0===a.children('style[class="'+b.attr("class")+'"]').length?a.append(c[g]):(c.splice(g,1),f--,g--);return c};return a}()})(jQuery);spa.utils={};(function(b){b.emptyFunc=function(){};b.UUID=function(){var a=(new Date).getTime();"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:c&3|8).toString(16)})}})(spa.utils);
(function(b){b.fn.serializeObject=function(){for(var a=b(this).serializeArray(),c={},d=0;d<a.length;d++)void 0===c[a[d].name]?c[a[d].name]=a[d].value:(c[a[d].name]instanceof Array||(c[a[d].name]=[c[a[d].name]]),c[a[d].name].push(a[d].value));return c};b.getCookie=function(){var a=("; "+document.cookie).split("; "+name+"=");if(2==a.length)return a.pop().split(";").shift()}})(jQuery);
spa.EventBase=function(){var b={create:function(a){return $.extend(Object.create(b),{__topics:{},__preTopics:{}},a||{})}};b.init=spa.utils.emptyFunc;b.subscribe=function(a,b){return this.__subscribe(this.__topics,a,b)};b.preSubscribe=function(a,b){return this.__subscribe(this.__preTopics,a,b)};b.__subscribe=function(a,b,e){var c,d=[],h=[];$.isArray(b)||(b=[b]);for(var k=b.length;k--;)c=b[k],~d.indexOf(c)||(Object.hasOwnProperty.call(a,c)||(a[c]=[]),h.push(a[c].push(e)-1),d.push(c));return{remove:function(){for(var b=
h.length;b--;)delete a[c][h[b]]}.bind(this)}};b.__prePublish=function(a,b){return!b.disablePreHook&&this.__preTopics[a]&&this.__preTopics[a].length&&!this.__preTopics[a].every(function(c,d){return c(b,a)})?!1:!0};b.publish=function(a,b){b=b||{};if(!this.__prePublish(a,b)||!b.disableMiddleware&&this.__topics.__MIDDLEWARE__&&this.__topics.__MIDDLEWARE__.length&&!this.__topics.__MIDDLEWARE__.every(function(c,d){return c(b,a)}))return!1;var c=_.split(a,":"),d=c[0];!this.__topics[d]||1>this.__topics[d].length||
(c.unshift(b),this.__topics[d].forEach(function(a){setTimeout(function(b){a.apply(null,b)},0,c)}))};var a=b.create();spa.subscribe=function(b,d){return a.subscribe(b,d)};spa.publish=function(b,d){return a.publish(b,d)};spa.preSubscribe=function(b,d){return a.preSubscribe(b,d)};spa.sub=spa.subscribe;spa.presub=spa.preSubscribe;spa.pub=spa.publish;return b}();
spa.RenderBase=function(){var b={errorTemplates:{},loadingHTML:"Loading...",create:function(a){return $.extend(Object.create(this),{setTimeoutMap:{},setIntervalMap:{},$container:jQuery({}),context:{},template:"",cssRules:"",__subs:[]},a||{})},render:function(a,b,d){$.isPlainObject(a)&&(d=b,b=a,a=void 0);return Mustache.render(a||this.template,jQuery.extend({},this.context,b||{}),jQuery.extend({},this.templateMap,d||{}))},loadingStart:function(){this.$container.before(this.loadingHTML)},__setUp:function(a){this.$container=
a;this.$container.addClass(this.name);this.hideContainerInit();this.sheet||this.__parse_style();this.loadingStart();this.init()},__parse_style:function(){var a=jQuery('<style class="'+this.name+'-style">');a.append(this.cssRules||"");this.sheet=spa.$cache.$styleSheets.push(a)},__cleanUp:function(){this.__clearSets();this.__clearSubs();this.hideContainer();this.$container.removeClass(this.name);spa.$cache.$styleSheets.unload(this.$container.attr("class")+"-style")},init:function(){this.renderTemplate()}};
b.hideContainerInit=spa.utils.emptyFunc;b.hideContainer=spa.utils.emptyFunc;b.showContainer=function(a){a()};b.renderTemplate=function(a,b,d){$.isFunction(a)&&(d=a);$.isFunction(b)&&(d=b);this.$container.html(this.render(a,b));this.components=this.$find(this.$container);this.showContainer(d)};b.on=function(a,b,d){return this.$container.on.apply(this.$container,arguments)};b.trigger=function(a,b,d){return this.$container.trigger.apply(this.$container,arguments)};b.setTimeout=function(a,b,d,e){this.setTimeoutMap[a]=
window.setTimeout.apply(window,Array.apply(this,arguments).splice(1));return this.setTimeoutMap[a]};b.setInterval=function(a,b,d,e){this.setIntervalMap[a]=window.setInterval.apply(window,Array.apply(this,arguments).splice(1));return this.setIntervalMap[a]};b.subscribe=function(a,b){this.__subs.push(spa.subscribe(a,b))};b.publish=spa.publish;b.__clearSubs=function(){this.__subs.forEach(function(a){a.remove()})};b.__clearSets=function(){for(var a in this.setIntervalMap)clearInterval(this.setIntervalMap[a]);
for(a in this.setTimeoutMap)clearTimeout(this.setTimeoutMap[a])};b.$find=function(a,b){var c=[];a.find("[data-component-name]").each(function(a,b){var d,e=jQuery(b);d=e.data("component-name");var f=spa.components[d];d=f?e.parents('[data-component-name="'+d+'"]').length?spa.Component.errorTemplates["500"].create({context:{name:d}}):f():spa.Component.errorTemplates["404"].create({context:{name:d}});c.push(d);d.__setUp(e)});return c};b.$insert=function(a,b){var c;c=a.data("component-name");var e=spa.components[c];
c=e?a.parents('[data-component-name="'+c+'"]').length?spa.Component.errorTemplates["500"].create({context:{name:c}}):e(b||{}):spa.Component.errorTemplates["404"].create({context:{name:c}});this.components.push(c);c.__setUp(a);return c};return b}();spa.services={};spa.Service=function(){var b=Object.create(spa.EventBase);b.add=function(a){if(!a.name)return!1;a=this.create(a);a.init();spa.services[a.name]=a};return b}();spa.models={};
spa.Model=function(){var b=Object.create(spa.EventBase);b.add=function(a){if(!a.name)return!1;a=this.create(a);spa.models[a.name]=a;a.init()};return b}();spa.RenderBase.errorTemplates["404"]=spa.RenderBase.create({title:"404",template:"<center><h1><i>Page {{name}} Not Found</i></h1>{{message}}<center>",create:function(b){b.template=b.template||this.template;return spa.RenderBase.create(b)}});
spa.RenderBase.errorTemplates["500"]=spa.RenderBase.create({title:"500",template:"<center><h1><i>SPA error {{name}}</i></h1>{{message}}<center>",create:function(b){b.template=b.template||this.template;return spa.RenderBase.create(b)}});spa.shells={};
spa.Shell=function(){var b=Object.create(spa.RenderBase);b.defaultContainerSelector="#spa-shell";b.add=function(a){if(!a.name)return!1;a=this.create(a);spa.shells[a.name]=a};b.renderTemplate=function(a,b){spa.RenderBase.renderTemplate.call(this,a)};b.resize=function(){this.$container.height("100vh");this.$container.width("100vw");spa.publish("resize")};b.update=function(a){a=a||spa.shells[spa.defaults.shell];if(spa.current.shell===a)return!1;spa.current.shell&&spa.current.shell.unload();spa.current.shell=
a;a.__setUp(this.$container)};b.unload=function(){this.__cleanUp();(this.components?this.components:[]).forEach(function(a){b.unload.call(a)}.bind(this))};b.create=function(a){return spa.RenderBase.create.call(this,a)};return b}();spa.components={};
spa.Component=function(){var b=Object.create(spa.RenderBase);b.add=function(a){if(!a.name)return!1;spa.components[a.name]=function(b){b=b?$.extend(Object.create(a),b):a;return this.create(b)}.bind(this)};b.create=function(a){return spa.RenderBase.create.call(this,a)};return b}();
spa.Form=function(){var b=Object.create(spa.RenderBase);b.errorMessageClass="input-error-message";b.add=function(a){if(!a.name)return!1;spa.components[a.name]=function(b){b=b?$.extend(Object.create(a),b):a;return this.create(b)}.bind(this)};b.renderErrors=function(a){var b=this;b.$container.find("."+b.errorMessageClass).remove();jQuery.each(a,function(a,c){if(Object.hasOwnProperty.call(b,"set"+a+"Error"))b["set"+a+"Error"](a,c);else b.setError(a,c)})};b.setError=function(a,b){var c=this,e=this.getErrorTarget(a);
b.prototype!==Array.prototype&&(b=[b]);jQuery.each(b,function(a,b){e.append('<span class="'+c.errorMessageClass+'">'+b+"</span>")})};b.getErrorTarget=function(a){return this.$container.find('[for="'+a+'"]')};b.create=function(a){return spa.RenderBase.create.call(this,a)};return b}();spa.routes=[];
spa.Router={defaultRoute:spa.routes,add:function(b){if($.isArray(b))b.forEach(this.add);else{if(!b.uri&&!b.init)return!1;spa.routes.push(b);return!0}},lookup:function(b,a){a=a||this.defaultRoute;var c,d=!1,e=XRegExp.exec(b,XRegExp("/?(?<path>[^?]*)\\??(?<query>[^#]*)\\#?(?<hash>.*)","ix"));a.some(function(a){if(c=XRegExp.exec(e.path,XRegExp(a.uri,"ix")))return a.REQ={url:b,re:c},d=a,d.query=spa.Router.deparam(e.query),d.hash=e.hash,d.path="/"+e.path,!0});return d},resolver:function(b,a){a=void 0===
a?!0:a;var c=this.lookup(b);c||(c=spa.RenderBase.errorTemplates["404"].create({$container:jQuery(spa.Shell.defaultContainerSelector),context:{name:b}}));c.init();spa.Shell.update(c.shell);spa.publish("spa-route-change",c);spa.current.route=c;a&&spa.Router.historyAdd({url:c.path},c.title,c.path)},historyAdd:function(b,a,c){window.history.pushState(b,a,c)},deparam:function(b){b=b.substring(b.indexOf("?")+1).split("&");for(var a={},c,d=decodeURIComponent,e=b.length-1;0<=e;e--)c=b[e].split("="),a[d(c[0])]=
d(c[1]||"");return a}};
spa.init(function(){spa.$cache.$styleSheets=spa.StyleSheets.create();spa.subscribe("__dom-content-loaded-start",function(){spa.$cache.$loader=jQuery("#spa-loader-holder");spa.$cache.$body=jQuery("body");var b=[].slice.call(spa.$cache.$styleSheets);b.length&&(b.unshift(jQuery("head")),spa.$cache.$styleSheets.load.apply({},b));spa.Shell.$container=jQuery(spa.Shell.defaultContainerSelector);jQuery(window).on("popstate",function(a){spa.publish("load-shell",{path:window.location.pathname,isHistory:!1})});
spa.$cache.$body.on("click",".ajax-link",function(a){a.preventDefault();spa.publish("load-shell",{path:jQuery(this).attr("href"),isHistory:!0});return!1})});spa.subscribe("__spa-ready",function(){jQuery.holdReady(!1);spa.publish("load-shell",{path:window.location.pathname,isHistory:!1})});spa.subscribe("load-shell",function(b){spa.Router.resolver(b.path,b.isHistory);spa.$cache.$loader.hide();spa.Shell.$container.show()});(function(){var b=spa.buildTaskCount;spa.subscribe("__dom-content-loaded-end",
function(a){0===b&&spa.publish("__spa-ready");b--});spa.subscribe("spa-build-task-complete",function(a){0===b&&spa.publish("__spa-ready");b--})})()});jQuery(document).on("DOMContentLoaded",function(b){spa.publish("__dom-content-loaded-start");spa.publish("__dom-content-loaded-end")});